---
title: '[정보처리기사] 3-2 SQL 활용' 
excerpt: '01. 기본 SQL 작성'
categories:
    - 정보처리기사

tag:
    - DataBase
    - SQL

author_profile: true    #작성자 프로필 출력 여부

last_modified_at: 2020-03-10T22:00:00+09:00

toc: true   #Table Of Contents 목차 

toc_sticky: true
---

# CHAPTER 02. SQL 활용

## 01. DDL

1. DDL(Data Definition Language)의 개념

    기본 테이블, 뷰 테이블 또는 인덱스 등을 생성, 변경, 제거하는 데 사용하는 명령어 들을 의미한다.

  - DDL 대상
    
    DDL(Data Definition Language)은 '데이터를 정의하는 언어'이며, DBMS에서는 오브젝트라고 한다.
  
  - 오브젝트 유형

    DDL을 통해 정의할 수 있는 대상, 오브젝트 유형은 다음과 같다.

    - DDL 대상

      | DDL 대상 |  설명  |  비고  |
      |:--------:|:------:|:--------:|
      |스키마(Schema)|DBMS 특성과 구현 환경을 고려한 데이터 구조, 직관 적으로 하나의 데이터베이스로 이해 가능|DBMS마다 다름|
      |도메인 (Domain)|속성의 데이터 타입과 크기, 제약조건 등을 지정한 정보 속성이 가질 수 있는 값의 범위로 이해 가능 |ex. 이름을 VARCHAR(10)으로 정의 |
      |테이블 (Table)|데이터 저장 공간|정형화된 데이터 저장|
      |뷰(View)|하나 이상의 물리 테이블에서 유도되는 가상의 논리 테이블|가상 논리 테이블|
      |인덱스 (Index)|검색을 빠르게 하기 위한 데이터 구조|인덱스 정의

  - DDL 조작 방법
    
    오브젝트르르 생성, 변경, 제거하기 위해 다음과 같은 명령어를 사용한다.
    
    |구분|DDL 명령어|설명|
    |:------:|:---:|:---:|
    |생성하기|CREATE|데이터베이스 오브젝트 생성|
    |변경하기|ALTER|데이터베이스 오브젝트 변경|
    |삭제하기|DROP|데이버테이스 오브젝트 삭제|
    |삭제하기|TRUNCATE|데이버테이스 오브젝트 내용 삭제| 

    <br>

2. DDL 활용
  - 테이블 생성
  
  - 테이블 변경

    ALTER를 이용하여 테이블(Table) 구조를 변경할 때 사용한다. 

    - ALTER 활용 구문

      ```SQL
      ALTER TABLE 기본 테이블명
        { ADD | ALTER | DROP } 변경하고자 하는 속성;
      ```

    - ALTER 이용한 테이블 변경 SQL 문
      
      |구분|문법|
      |:------:|:---:|
      |열 추가|ALTER TABLE 테이블 이름 ADD 열 이름 데이터 타입 [DEFALT 값]|
      |열 데이터 타입 변경| ALTER TABLE 이름, MODIFY 열이름 데이터 타입 [DEFAULT 값]|
      |열 삭제|ALTER TABLE 테이블 이름 DROP 열 이름|

      <br>

  - 테이블 삭제, 절단, 이름 변경

    테이블을 DROP TABLE, TRUNCATE TABLE, RENAME TABLE 명령문을 사용하여 삭제, 절단, 이름 변경을 한다.

    ```SQL
    DROP TABLE 테이블 이름[CASCADE | RESTRICT]
    DROP VIEW 뷰 이름[CASCADE | RESTRICE]
    DROP INDEX 인덱스 이름
    ```

    - CASCADE : 다른 객체에서 테이블을 참조하고 있으면 참조하는 모든 객체까지 함께 삭제 시킨다.

    - RESTRICE : 다른 객체에서 테이블을 참조하고 있다면 DROP 명령어 실행을 취소 시킨다.

    - 테이블 삭제 및 이름 변경 방법

    |구분|문법|
    |:------:|:---:|
    |테이블 삭제|DROP TABLE 테이블 이름|
    |테이블 내용 삭제|TRUNCATE TABLE 테이블 이름|
    |테이블 이름  변경|RENAME TABLE 이전 테이블 이름 TO 새로운 테이블 이름, ALTER TABLE 이전 테이블 이름 RENAME 새로운 테이블 이름|

    <br>

3. 제약조건 적용

  - 제약조건 유형

    다음과 같은 제약조건을 테이블 생성 과정에 적용한다.
    
    - 테이블 생성에 사용되는 제약 조건

    |제약 조건|내용|
    |:------:|:---:|
    |PRIMARY KEY|테이블의 기본키를 정의, 기본으로 NOT NULL, UNIQUE 제약이 포함됨|
    |FOREIGN KEY|외래키를 정의함, 참조 대상을 테이블 이름(열이름)으로 명시해야 함, 참조 무결성 위해 상황 발생 시 처리 방법으로 옵션 지정 가능(NO ACtiON, SET DEfAULT, SET NULL, CASCADE)|
    |UNIQUE|테이블 내에서 열은 유일한 값을 가져야 함, 테이블 내에서 동일한 값을 가져서는 안 되는 항목에 지정함|
    |NOT NULL|테이블 내에서 관련 열의 값은 NULL일 수 없음, 필수 입력 항목에 대해 제약조건으로 설정함|
    |CHECK|개발자가 정의하는 제약조건, 상황에 따라 다양한 조건 설정 가능|

  <br>

  - 제약조건에 대한 활용

    - 테이블 생성을 위한 CREATE 문에 제약조건을 명시하는 형태로 사용한다.

    - ALTER를 통해 테이블의 제약조건을 변경 가능하다.

## 02. 관계형 데이터 모델

1. 관계형 데이터 모델(Relation Data Model) 정의

  - 관계형 데이터 모델은 2차원 구조의 테이블 형태를 통해 자료를 표현하는 DB 구조를 말한다.

  - 본 모델의 특징은 간결하고, 보기 편리하고, 다른 데이터베이스로의 변환이 용이하다는 장점이 있는 반면에 성능이 다소 떨어지는 단점도 있다.

    - 관계형 데이터 모델의 용어

      - Relation : 데이터들을 2차원 테이블의 구조로 저장한 것

      - Attribute : 릴레이션의 열(Column), 개체를 구성하는 속성

      - Tuple : 릴레이션의 행(Row), 속성들의 집합

      - Degree : 릴레이션을 구성하는 속성의 수

      - Cardinality : 릴레이션에 입력된 튜플의 수

      - Domain : 하나의 속성이 가질 수 있는 값들의 범위

      - Null : 정보 부재를 나타내기 위해 사용되는 특수한 데이터 값

      - Relation Schema : 릴레이션의 이름과 속성 이름의 집합

      - Relation Instance : 릴레이션의 어느 시점까지 입력된 튜플들의 집합

<br>

# CHAPTER 03 논리 데이베이스 설계

## 01. 관계 데이터 모델

1. 관계 데이터 모델 

    열과 행으로 이루어진 테이블과 수학적으로 정의된 연산들로 구성된 것

<br>

2. 관계 데이터 모델에서의 구성

    - DB는 테이블(릴레이션)들의 모임으로 표현되며 스키마와 인스턴스로 이루어짐

    - 테이블은 튜플(행, 레코드)들의 모임으로 표현

    - 튜플은 어트리뷰트(칼럼, 필드, 속성)들로 구성
    
    - 관계 데이터 모델은 데이터를 2차원 테이블 형태인 릴레이션으로 표현하며 릴레이션에 대한 제약조건과 관계연산을 위한 관계대수를 정의

<br>

3. 릴레이션의 특징

    - 속성은 단일 값을 가짐
      
      각 속성의 값은 도메인에 정의된 값만을 가지며 그 값은 모두 단일 값이어야 함

    - 속성은 서로 다른 이름을 가짐

      속성은 한 릴레이션에서 서로 다른 이름을 가져야만 함

    - 한 속성의 값은 모두 같은 도메인 값을 가짐

      한 속성에 속한 열은 모두 그 속성에서 정의한 도메인 값만 가질 수 있음

    - 속성의 순서는 상관없음

      속성의 순서가 달라도 릴레이션 스키마는 같음

    - 릴레이션 내의 중복된 튜플은 허용하지 않음

    - 튜플의 순서는 상관없음

<br>

4. 무결성 제약조건

    - 도메인 무결성 제약조건

      도메인 제약이라고도 하며, 릴레이션 내의 튜플들이 각 속성의 도메인에 지정된 값만을 가져야 한다는 조건

    - 개체 무결성 제약조건

      기본키 제약이라고도 하며, 릴레이션은 기본키를 지정하고 기본키는 Null 값을 가져서는 안 되며 릴레이션 내에 오직 하나의 값만 존재해야 한다는 조건

    - 참조 무결성 제약조건

      외래키 제약이라고도 하며, 릴레이션 간의 참조 관계를 선언하는 제약조건

      자식 릴레이션의 외래키는 부모 릴레이션의 기본키와 도메인이 동일해야 하며, 자식 릴레이션의 값이 변경될 때 부모 릴레이션의 제약을 받는다는 것

<br>

## 02. 관계 데이터 언어(관계대수, 관계해석)

1. 관계대수(Relational Algebra)의 정의
  
    - 관계 대수는 어떤 데이터를 어떻게 찾는지에 대한 처리 절차를 명시하는 절차적인 언어이며 DBMS 내부의 처리 언어로 사용

    - 릴레이션을 처리하기 위해 연산자와 연산 규칙을 제공하는 언어로 피연산자가 릴레이션이고 결과도 릴레이션

<br>

2. 관계대수 연산자의 종류

    - 순수관계 연산자 

      Select, Project, Join, Division, Rename

    - 일반 집합 연산자

      합집합(Union), 교집합(Intersection), 차집합(Difference), 카티션 프로덕트(Cartesian Product)

